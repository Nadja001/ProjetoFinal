{% extends "base.html" %}

{% block content %}
<div class="mx-4 md:mx-8 lg:mx-16">

  <!-- BotÃ£o de adicionar novo produto -->
  <div class="flex justify-end my-6">
    <a href="{% url 'criar_produto' %}"
       class="px-5 py-2.5 bg-green-600 text-white font-medium rounded-lg shadow hover:bg-green-700 transition">
      + Novo Produto
    </a>
  </div>

  <!-- Lista de produtos -->
  <div class="space-y-4">
    {% for produto in produtos %}
      <div class="flex flex-col md:flex-row md:items-start gap-6 bg-white rounded-xl shadow p-6 hover:shadow-lg transition w-full">
        {% if produto.imagem %}
          <img src="{{ produto.imagem.url }}" alt="{{ produto.nome }}" class="w-24 h-24 object-cover rounded-lg flex-shrink-0">
        {% else %}
          <div class="w-24 h-24 bg-gray-100 flex items-center justify-center text-gray-500 text-sm rounded-lg flex-shrink-0">
            Imagem
          </div>
        {% endif %}

        <div class="flex-1 min-w-0">
          <h2 class="text-lg md:text-xl font-bold text-gray-800 leading-tight mb-1">
            {{ produto.nome }}
          </h2>

          <p class="text-gray-600 text-sm md:text-base mb-3">
            {{ produto.descricao }}
          </p>

          <div class="flex flex-wrap gap-3">
            <a href="{% url 'editar_produto' produto.id %}"
               class="px-4 py-2 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 transition">
              Editar
            </a>
            <a href="{% url 'deletar_produto' produto.id %}"
               class="px-4 py-2 bg-red-500 text-white text-sm rounded-lg hover:bg-red-600 transition"
               onclick="return confirm('Tem certeza que deseja remover este produto?')">
              Remover
            </a>
          </div>
        </div>
      </div>
    {% empty %}
      <p class="text-gray-500 mx-4">Nenhum produto cadastrado.</p>
    {% endfor %}
  </div>

</div>
{% endblock %}
